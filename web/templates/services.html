{% extends "base.html" %}

{% block content %}
<div class="notion-page-header">
    <h1>
        <span class="icon">üîß</span>
        –£—Å–ª—É–≥–∏
    </h1>
    <div class="notion-page-description">
        –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å–ª—É–≥–∞–º–∏ —Å–µ—Ä–≤–∏—Å–∞
    </div>
</div>

<!-- –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –¢–° (–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è vehicle_types) -->
{# 
<div class="notion-block filters-block">
    <div class="notion-block-body">
        <form method="get" class="filters-form">
            <div class="filter-group">
                <label class="notion-label">–¢–∏–ø –¢–°</label>
                <select name="vehicle_type" class="notion-input">
                    <option value="">–í—Å–µ</option>
                    {% if vehicle_types %}
                        {% for vt in vehicle_types %}
                        <option value="{{ vt.id }}" {% if request.args.get('vehicle_type')|int == vt.id %}selected{% endif %}>
                            {{ vt.name }}
                        </option>
                        {% endfor %}
                    {% endif %}
                </select>
            </div>
            <div class="filter-actions">
                <button type="submit" class="notion-button notion-button-primary">
                    <i data-feather="filter"></i> –ü—Ä–∏–º–µ–Ω–∏—Ç—å
                </button>
                <a href="{{ url_for('services.services_list') }}" class="notion-button">
                    <i data-feather="x"></i> –°–±—Ä–æ—Å–∏—Ç—å
                </a>
            </div>
        </form>
    </div>
</div>
#}

<div class="notion-block">
    <div class="notion-block-header">
        <h2>–°–ø–∏—Å–æ–∫ —É—Å–ª—É–≥</h2>
        {# –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É—Å–ª—É–≥–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–∞ –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
        <a href="{{ url_for('services.add_service') }}" class="notion-button notion-button-primary">
            <i data-feather="plus"></i> –î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É
        </a>
        #}
    </div>
    <div class="notion-block-body">
        <table class="notion-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                    <th>–¢–∏–ø –¢–°</th>
                    <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                    <th>–¶–µ–Ω–∞</th>
                    <th>–ê–∫—Ç–∏–≤–Ω–∞</th>
                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
            </thead>
            <tbody>
                {% for service in services %}
                <tr>
                    <td>{{ service.id }}</td>
                    <td><strong>{{ service.name }}</strong></td>
                    <td>{{ service.vehicle_type_name or '‚Äî' }}</td>
                    <td>{{ service.description|truncate(50) or '‚Äî' }}</td>
                    <td>{{ service.price|default('‚Äî', true) }}</td>
                    <td>
                        {% if service.is_active %}
                            <span class="notion-badge notion-badge-success">–î–∞</span>
                        {% else %}
                            <span class="notion-badge">–ù–µ—Ç</span>
                        {% endif %}
                    </td>
                    <td class="actions">
                        {# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω—ã –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
                        <a href="{{ url_for('services.edit_service', service_id=service.id) }}" class="notion-button">
                            <i data-feather="edit-2"></i>
                        </a>
                        <form method="post" action="{{ url_for('services.delete_service_route', service_id=service.id) }}" style="display:inline;">
                            <button type="submit" class="notion-button" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —É—Å–ª—É–≥—É?')">
                                <i data-feather="trash-2"></i>
                            </button>
                        </form>
                        #}
                        <span class="notion-badge">–¢–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä</span>
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="7" class="empty-state">–£—Å–ª—É–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}